# [[Block]]

オブジェクト表現を持たないサブルーチン。`goto` の上位概念。制御などを入れられるが、保存などはできない。引数を持つ。

WIP: 型を持たす？
WIP: join point の設定などもできるようにすると便利そう
WIP: block を受け取るものは inline 展開前提で組まれる必要がある。マクロなどにしか渡せないようにする？
## apply

`{ s1; s2; ... }.apply` でクロージャへ変換可能
## match

ある式に対しての[[Pattern]]と分岐。網羅できていなければ、実行時エラー。
WIP: `v.let { P1 #> e1; ... }` みたいなの導入できれば不要？

```
{
	e1
} == {
	e1
}.apply()

#match v #in {
	P1 #> e1
	...
} == {
	P1 #> e1
	...
}.apply(v)

#match k1 = v1, k2 = v2 #in {
	k1 = P1, k2 = P2 #> e1
	k1 = P3 #> e2
	k1 = P4, k2 #> e3
	...
} == {
	k1 = P1, k2 = P2 #> e1
	k1 = P3 #> e2
	k1 = P4, k2 #> e3
	...
}.apply(k1 = v1, k2 = v2)
```
## case block

[[View]]と分岐。網羅できていなければ実行時エラー。

```
#case {
	V1 #> e1
	...
}
```

## if block

[[View]]と分岐だが、返り値は捨てられる。網羅できていない場合は何もしない。

```
#if {
	V1 #> e1
	...
}
```